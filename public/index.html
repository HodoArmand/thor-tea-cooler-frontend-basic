<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TTC | Tea Cooler</title>
    <link rel="icon" type="image/svg+xml" href="/img/TTC_logo.svg">

    <script src="/js/lib/axios.min.js"></script>
    <script src="/js/lib/svg-inject.min.js"></script>
    <script src="/js/lib/preline.js"></script>
    <script src="/js/lib/preline_darkmodeSwitcher.js"></script>

    <link href="/css/tea.css" rel="stylesheet">
    <script type="module" src="/js/ttcClient.js"></script>

</head>
<body class="flex flex-col min-h-screen w-full bg-green-50 m-0 p-0 bg-green-gradient-animated dark:bg-green-gradient-animated-dark">
<header class="flex flex-wrap sm:justify-start sm:flex-nowrap z-40 w-full woodpattern dark:woodpattern-dark text-base py-4 border-b border-green-600/50 dark:border-green-800/50">
    <nav class="w-full mx-auto px-4 sm:flex sm:items-center sm:justify-between" aria-label="Global">
        <div class="flex items-center justify-between">
            <div class="flex flex-row items-center gap-x-2 text-xl font-semibold text-emerald-800 dark:text-green-50" href="#">
                <img src="/img/TTC_logo.svg" class="w-10 h-10">
                <h1 class="hidden md:inline w-64 italic">Thor Tea Cooler</h1>
                <h1 class="inline md:hidden w-32 italic">TTC</h1>
            </div>
            <div class="sm:hidden">
                <button type="button"
                        class="hs-collapse-toggle p-2 nav-button"
                        data-hs-collapse="#navbar-image-and-text-1" aria-controls="navbar-image-and-text-1" aria-label="Toggle navigation">
                    <img class="hs-collapse-open:hidden w-6 h-6 injectable" src="img/nav-menu-bars.svg">
                    <img class="hs-collapse-open:block hidden w-6 h-6 injectable" src="img/nav-menu-opened.svg">
                </button>
            </div>
        </div>
        <div id="navbar-image-and-text-1" class="hs-collapse hidden overflow-hidden transition-all duration-300 basis-full grow sm:block">
            <div class="flex flex-col gap-5 mt-5 sm:flex-row sm:items-center sm:justify-end sm:mt-0 sm:pl-5 sm:pr-2">
                <a href="#" class="nav-items-active">
                    <img src="img/mug.svg" class="injectable icon-md">
                    <div>Tea Cooler</div>
                </a>
                <a href="#" class="nav-items">
                    <img src="img/gear.svg" class="injectable icon-md">
                    <div>Configuration</div>
                </a>
                <button onclick="" class="nav-items-logout">
                    <img src="img/logout.svg" class="injectable icon-md">
                    <div>Log out</div>
                </button>
                <a class="hs-dark-mode-active:hidden flex hs-dark-mode nav-text flex-row space-x-2"
                   href="#!" data-hs-theme-click-value="dark">
                    <img src="img/moon.svg" class="injectable icon-md">
                    <div class="sm:hidden">Light/Dark mode</div>
                </a>
                <a class="hs-dark-mode-active:flex hidden hs-dark-mode nav-text flex-row space-x-2"
                   href="#!" data-hs-theme-click-value="light">
                    <img src="img/sun.svg" class="injectable icon-md">
                    <div class="sm:hidden">Light/Dark mode</div>
                </a>
            </div>
        </div>

    </nav>
</header>
<main class="h-fit w-full">
    <!-- Card Blog -->
    <div class="max-w-full md:mx-5 px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto z-40">
        <!-- Grid -->
        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Card -->
            <div class="group flex flex-col h-full bg-white border border-gray-300 shadow-md rounded-xl dark:bg-slate-900 dark:border-gray-700 dark:shadow-slate-700/[.7]">
                <div class="h-52 flex flex-col justify-center items-center bg-gray-50 dark:bg-slate-950 rounded-t-xl">
                    <div class="text-gray-900 dark:text-gray-400">placeholder for graph</div>
                </div>
                <div class="p-4 md:p-6">
                    <h2 class="block mb-1 text-base font-semibold uppercase text-green-600 dark:text-green-500">
                        Temperatures
                    </h2>
                    <h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300">
                        Current temperature
                    </h3>
                    <div class="my-2 text-gray-600">
                        <div class="flex w-full h-8 bg-gray-200 rounded-lg overflow-hidden dark:bg-gray-700">
                            <div id="temperatureBar" class="flex flex-col justify-center overflow-hidden bg-yellow-300 text-black font-semibold text-center" role="progressbar"
                                 style="width: 50%">
                                        <span><span id="temperature">00.00</span><sup> o</sup>C
                                        </span>
                            </div>
                        </div>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 dark:hover:text-white">
                        Target temperature
                    </h3>
                    <div class="my-2 text-gray-600">
                        <div class="flex w-full h-8 bg-gray-200 rounded-lg overflow-hidden dark:bg-gray-700">
                            <div id="targetTemperatureBar" class="flex flex-col justify-center overflow-hidden bg-blue-300 text-black font-semibold text-center" role="progressbar"
                                 style="width: 50%">
                                        <span><span id="targetTemperature">50.00</span><sup> o</sup>C
                                        </span>
                            </div>
                        </div>
                    </div>
                    <label for="targetTemperatureRangeSlider" class="sr-only">Set Target temperature</label>
                    <div class="flex flex-row items-center space-x-2 py-2 mt-4">
                        <div class="w-4/5 flex flex-row justify-between space-x-2">
                            <div class="flex flex-row font-semibold text-blue-500 dark:text-blue-300 w-14 justify-center items-center">20 ℃</div>
                            <input id="targetTemperatureRangeSlider" type="range" min="20" max="75" value="50" step="1.0"
                                   class="target-temp-slider" oninput="ttcClient.ui.followTargetTemperatureSliderValue()">
                            <div class="flex flex-row font-semibold text-red-600 dark:text-red-500 w-14 justify-center items-center">75 ℃</div>
                        </div>
                        <button id="setTargetTemperatureRangeSliderButton" type="button" onclick="ttcClient.setTargetTemperature()"
                                class="button-set-temp w-1/5 hover:bg-green-200 dark:hover:bg-green-500/75 disabled:control-disabled">
                            <span class="flex flex-row font-semibold"><img src="img/mug.svg" class="injectable icon-md inline mr-1">➔ <span
                                    id="targetTemperatureRangeButtonCelsius">50</span>℃</span>
                        </button>
                        <button id="setTargetTemperatureRangeSliderButtonLoader" type="button"
                                class="button-set-temp w-1/5 cursor-progress !hidden" disabled>
                            <img src="img/loader.svg" class="injectable icon-md animate-spin text-green-600 dark:text-green-500">
                        </button>
                    </div>
                </div>
                <div class="mt-auto flex border-t border-gray-200 divide-x divide-gray-200 dark:border-gray-700 dark:divide-gray-700">
                    <button id="targetTemperatureDecreaseButton" class="card-button-left hover:bg-sky-200 dark:hover:bg-sky-500/75 disabled:control-disabled"
                            onclick="ttcClient.targetTemperatureDecrease()">
                        <span><img src="img/mug.svg" class="injectable icon-md inline mr-1">-1℃</span>
                    </button>
                    <button id="targetTemperatureDecreaseButtonLoader" class="card-button-left cursor-progress !hidden" disabled>
                        <img src="img/loader.svg" class="injectable icon-md animate-spin text-green-600 dark:text-green-500">
                    </button>
                    <button id="targetTemperatureIncreaseButton" class="card-button-right hover:bg-rose-200 dark:hover:bg-rose-500/75 disabled:control-disabled"
                            onclick="ttcClient.targetTemperatureIncrease()">
                        <span><img src="img/mug.svg" class="injectable icon-md inline mr-1">+1℃</span>
                    </button>
                    <button id="targetTemperatureIncreaseButtonLoader" class="card-button-left cursor-progress !hidden" disabled>
                        <img src="img/loader.svg" class="injectable icon-md animate-spin text-green-600 dark:text-green-500">
                    </button>
                </div>
            </div>
            <!-- End Card -->

            <!-- Card -->
            <div class="group flex flex-col h-full bg-white border border-gray-300 shadow-md rounded-xl dark:bg-slate-900 dark:border-gray-700 dark:shadow-slate-700/[.7]">
                <div class="h-52 flex flex-col justify-center items-center bg-gray-50 dark:bg-slate-950 rounded-t-xl">
                    <img id="modeIconManual" src="img/modes/manual.svg" class="injectable mode-icon">
                    <img id="modeIconAutoReady" src="img/modes/autoReady.svg" class="injectable mode-icon hidden">
                    <img id="modeIconAutoCooling" src="img/modes/autoCooling.svg" class="injectable mode-icon hidden">
                    <img id="modeIconAutoFinished" src="img/modes/autoFinished.svg" class="injectable mode-icon hidden">
                </div>
                <div class="p-4 md:p-6">
                    <h2 class="block mb-1 text-base font-semibold uppercase text-green-600 dark:text-green-500">
                        Operating mode
                    </h2>
                    <h3 id="modeManualTitle" class="mode-title">
                        Manual
                    </h3>
                    <p id="modeManualDesc" class="mode-desc">
                        The TTC device is in manual mode, the cooling fans can be freely controlled and the target temperature can be adjusted any time.
                    </p>
                    <h3 id="modeAutoReadyTitle" class="mode-title hidden">
                        Automatic - Ready
                    </h3>
                    <p id="modeAutoReadyDesc" class="mode-desc hidden">
                        The TTC device is in automatic ready mode, the target temperature can be adjusted and the automatic cooling progress can be started.
                    </p>
                    <h3 id="modeAutoCoolingTitle" class="mode-title hidden">
                        Automatic - Cooling
                    </h3>
                    <p id="modeAutoCoolingDesc" class="mode-desc hidden">
                        The TTC device is in automatic cooling mode, the target temperature can be adjusted and the automatic cooling progress can be stopped.
                    </p>
                    <h3 id="modeAutoFinishedTitle" class="mode-title hidden">
                        Automatic - Finished
                    </h3>
                    <p id="modeAutoFinishedDesc" class="mode-desc hidden">
                        The beverage has been cooled to the desired temperature.
                    </p>

                    <span class="block mt-3 mb-1 text-base font-semibold uppercase text-green-600 dark:text-green-500 text-center">
          Automatic Controls
        </span>
                    <div class="mt-2 w-full flex justify-center">
                        <div class="inline-flex rounded-md shadow-sm w-fit">
                            <button id="modeAutoStart" type="button" onclick="ttcClient.startAutoCooling()"
                                    class="button-group-left hover:bg-green-200 dark:hover:bg-green-500/75 disabled:control-disabled">
                                <span><img src="img/start.svg" class="injectable icon-md inline mr-1">Start</span>
                            </button>
                            <button id="modeAutoStartLoader" type="button"
                                    class="button-group-left hover:bg-green-200 dark:hover:bg-green-500/75 !hidden" disabled>
                                <img src="img/loader.svg" class="injectable icon-md animate-spin text-green-600 dark:text-green-500">
                            </button>
                            <button id="modeAutoStop" type="button" onclick="ttcClient.stopAutoCooling()"
                                    class="button-group-right hover:bg-rose-200 dark:hover:bg-rose-500/75 disabled:control-disabled">
                                <span><img src="img/stop.svg" class="injectable icon-md inline mr-1">Stop</span>
                            </button>
                            <button id="modeAutoStopLoader" type="button"
                                    class="button-group-right hover:bg-rose-200 dark:hover:bg-rose-500/75 !hidden" disabled>
                                <img src="img/loader.svg" class="injectable icon-md animate-spin text-green-600 dark:text-green-500">
                            </button>
                        </div>
                    </div>
                </div>
                <div class="mt-auto flex border-t border-gray-200 divide-x divide-gray-200 dark:border-gray-700 dark:divide-gray-700">
                    <button id="modeButtonAuto" class="card-button-left hover:bg-green-200 dark:hover:bg-green-500/75 disabled:control-disabled"
                            onclick="ttcClient.setModeAutoReady()">
                        <span><img src="img/modes/autoReady.svg" class="injectable icon-md inline mr-1">Automatic</span>
                    </button>
                    <button id="modeButtonAutoLoader" class="card-button-left hover:bg-green-200 dark:hover:bg-green-500/75 !hidden" disabled>
                        <img src="img/loader.svg" class="injectable icon-md animate-spin text-green-600 dark:text-green-500">
                    </button>
                    <button id="modeButtonManual" class="card-button-right hover:bg-rose-200 dark:hover:bg-rose-500/75 disabled:control-disabled"
                            onclick="ttcClient.setModeManual()">
                        <span><img src="img/modes/manual.svg" class="injectable icon-md inline mr-1">Manual</span>
                    </button>
                    <button id="modeButtonManualLoader" class="card-button-right hover:bg-rose-200 dark:hover:bg-rose-500/75 !hidden" disabled>
                        <img src="img/loader.svg" class="injectable icon-md animate-spin text-green-600 dark:text-green-500">
                    </button>
                </div>
            </div>
            <!-- End Card -->

            <!-- Card -->
            <div class="group flex flex-col h-full bg-white border border-gray-300 shadow-md rounded-xl dark:bg-slate-900 dark:border-gray-700 dark:shadow-slate-700/[.7]">
                <div class="h-52 flex flex-row justify-center items-center bg-gray-50 dark:bg-slate-950 rounded-t-xl">
                    <img id="relayStateIcon1On" src="img/propeller.svg" class="injectable w-32 h-32 text-green-800 dark:text-green-400">
                    <img id="relayStateIcon2On" src="img/propeller.svg" class="injectable w-32 h-32 text-green-800 dark:text-green-400 hidden">
                    <img id="relayStateIcon1Off" src="img/propeller_off.svg" class="injectable w-32 h-32 text-gray-700 dark:text-gray-400 hidden">
                    <img id="relayStateIcon2Off" src="img/propeller_off.svg" class="injectable w-32 h-32 text-gray-700 dark:text-gray-400">
                </div>
                <div class="p-4 md:p-6">
        <span class="block mb-1 text-base font-semibold uppercase text-green-600">
          Manual controls
        </span>
                    <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-300">
                        Cooling fan #1
                    </h3>
                    <p class="mt-1 text-gray-500">
                        Status: Cooling fan #1 is <span id="relayStateDesc1">On</span>.
                    </p>
                    <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-300">
                        Cooling fan #2
                    </h3>
                    <p class="mt-1 text-gray-500">
                        Status: Cooling fan #2 is <span id="relayStateDesc2">On</span>.
                    </p>
                </div>
                <div class="mt-auto flex border-t border-gray-200 divide-x divide-gray-200 dark:border-gray-700 dark:divide-gray-700">
                    <button id="manualSwitchRelay1Button" type="button" class="card-button-left hover:bg-green-200 dark:hover:bg-green-500/75 disabled:control-disabled"
                            onclick="ttcClient.switchRelay(1)">
                        <span><img src="img/toggle.svg" class="injectable icon-md inline mr-1 rotate-90">Fan #1</span>
                    </button>
                    <button id="manualSwitchRelay1ButtonLoader" type="button" class="card-button-left hover:bg-green-200 dark:hover:bg-green-500/75 !hidden" disabled>
                        <img src="img/loader.svg" class="injectable icon-md animate-spin text-green-600 dark:text-green-500">
                    </button>
                    <button id="manualSwitchRelay2Button" type="button" class="card-button-right hover:bg-green-200 dark:hover:bg-green-500/75 disabled:control-disabled"
                            onclick="ttcClient.switchRelay(2)">
                        <span><img src="img/toggle.svg" class="injectable icon-md inline mr-1 rotate-90">Fan #2</span>
                    </button>
                    <button id="manualSwitchRelay2ButtonLoader" type="button" class="card-button-left hover:bg-green-200 dark:hover:bg-green-500/75 !hidden" disabled>
                        <img src="img/loader.svg" class="injectable icon-md animate-spin text-green-600 dark:text-green-500">
                    </button>
                </div>
            </div>
            <!-- End Card -->
        </div>
        <!-- End Grid -->
    </div>
    <!-- End Card Blog -->
</main>
<footer class="bg-green-700 dark:bg-green-900 border-t border-green-800/50 dark:border-green-700/50 mt-auto">
    <div class="max-w-[85rem] py-7 px-4 sm:px-6 lg:px-8 mx-auto">
        <!-- Grid -->
        <div class="grid grid-cols-1 md:grid-cols-3 items-center gap-5 text-center">
            <div class="flex flex-row space-x-2 items-center text-white/95">
                <img src="/img/TTC_logo_fillcolor.svg" class="injectable w-9 h-9">
                <p class="flex-none text-xl font-semibold">Thor Tea Cooler v1.0</p>
            </div>
            <!-- End Col -->

            <ul class="text-center">
                <li class="inline-block relative pr-8 last:pr-0 last-of-type:before:hidden before:absolute before:top-1/2 before:right-3 before:-translate-y-1/2 before:content-['/'] before:text-gray-300 dark:before:text-gray-600">
                    <a class="inline-flex gap-x-2 text-gray-200 hover:text-gray-50" href="#">
                        Tea Cooler
                    </a>
                </li>
                <li class="inline-block relative pr-8 last:pr-0 last-of-type:before:hidden before:absolute before:top-1/2 before:right-3 before:-translate-y-1/2 before:content-['/'] before:text-gray-300 dark:before:text-gray-600">
                    <a class="inline-flex gap-x-2 text-gray-200 hover:text-gray-50" href="#">
                        Configuration
                    </a>
                </li>
            </ul>
            <!-- End Col -->

            <!-- Social Brands -->
            <div class="md:text-right space-x-2">
                <a href="#"
                   class="p-2 text-gray-200 hover:text-gray-50 hover:bg-green-600 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2 focus:ring-offset-white transition dark:text-gray-500 dark:hover:text-gray-200 dark:hover:bg-gray-800 dark:focus:ring-offset-slate-900">
                    <div class="inline-flex justify-center items-center w-8 h-8 text-center text-gray-200"
                    >
                        <svg class="w-3.5 h-3.5" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" />
                        </svg>
                    </div>
                    Github
                </a>
            </div>
            <!-- End Social Brands -->
        </div>
        <!-- End Grid -->
    </div>
</footer>

<div id="infoModal" class="hs-overlay hidden w-full h-full fixed top-0 left-0 z-[60] overflow-x-hidden overflow-y-auto">
    <div class="hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto h-[calc(100%-3.5rem)] min-h-[calc(100%-3.5rem)] flex items-center">
        <div class="max-h-full w-full overflow-hidden flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]">
            <div class="flex justify-between items-center py-3 px-4 border-b dark:border-gray-700">
                <div class="flex inline-flex space-x-2 text-gray-800 dark:text-white">
                    <img src="img/info-square.svg" class="injectable inline icon-md">
                    <h3 id="infoModalTitle" class="font-bold">
                        Modal title
                    </h3>
                </div>
                <button type="button" onclick="ttcClient.ui.closeModal('info')"
                        class="hs-dropdown-toggle inline-flex flex-shrink-0 justify-center items-center h-8 w-8 rounded-md text-gray-500 hover:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 focus:ring-offset-white transition-all text-sm dark:focus:ring-gray-700 dark:focus:ring-offset-gray-800">
                    <span class="sr-only">Close</span>
                    <svg class="w-3.5 h-3.5" width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M0.258206 1.00652C0.351976 0.912791 0.479126 0.860131 0.611706 0.860131C0.744296 0.860131 0.871447 0.912791 0.965207 1.00652L3.61171 3.65302L6.25822 1.00652C6.30432 0.958771 6.35952 0.920671 6.42052 0.894471C6.48152 0.868271 6.54712 0.854471 6.61352 0.853901C6.67992 0.853321 6.74572 0.865971 6.80722 0.891111C6.86862 0.916251 6.92442 0.953381 6.97142 1.00032C7.01832 1.04727 7.05552 1.1031 7.08062 1.16454C7.10572 1.22599 7.11842 1.29183 7.11782 1.35822C7.11722 1.42461 7.10342 1.49022 7.07722 1.55122C7.05102 1.61222 7.01292 1.6674 6.96522 1.71352L4.31871 4.36002L6.96522 7.00648C7.05632 7.10078 7.10672 7.22708 7.10552 7.35818C7.10442 7.48928 7.05182 7.61468 6.95912 7.70738C6.86642 7.80018 6.74102 7.85268 6.60992 7.85388C6.47882 7.85498 6.35252 7.80458 6.25822 7.71348L3.61171 5.06702L0.965207 7.71348C0.870907 7.80458 0.744606 7.85498 0.613506 7.85388C0.482406 7.85268 0.357007 7.80018 0.264297 7.70738C0.171597 7.61468 0.119017 7.48928 0.117877 7.35818C0.116737 7.22708 0.167126 7.10078 0.258206 7.00648L2.90471 4.36002L0.258206 1.71352C0.164476 1.61976 0.111816 1.4926 0.111816 1.36002C0.111816 1.22744 0.164476 1.10028 0.258206 1.00652Z"
                              fill="currentColor" />
                    </svg>
                </button>
            </div>
            <div class="p-4 overflow-y-auto">
                <div class="space-y-4">
                    <p id="infoModalDesc" class="mt-1 text-gray-800 dark:text-gray-400">
                        Desc
                    </p>
                </div>
            </div>
            <div class="flex justify-end items-center border-t dark:border-gray-700 rounded-b-lg">
                <button type="button"
                        onclick="ttcClient.ui.closeModal('info')"
                        class="w-full h-full py-3 px-4 inline-flex justify-center items-center gap-2 rounded-b-lg border font-medium bg-white text-gray-700 shadow-sm align-middle hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-blue-600 transition-all text-sm dark:bg-slate-900 dark:hover:bg-slate-800 dark:border-gray-700 dark:text-gray-400 dark:hover:text-white dark:focus:ring-offset-gray-800"
                >
                    OK
                </button>
            </div>
        </div>
    </div>
</div>

<!--Body scripts-->
<script src="js/lib/preline.js"></script>
<script>
    SVGInject(document.querySelectorAll("img.injectable"));
</script>

</body>
</html>